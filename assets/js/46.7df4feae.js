(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{428:function(e,t,o){"use strict";o.r(t);var v=o(26),a=Object(v.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"security"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#security"}},[e._v("#")]),e._v(" Security")]),e._v(" "),o("p",[e._v("Path: "),o("code",[e._v("src/config/security.ts")])]),e._v(" "),o("h2",{attrs:{id:"cross-origin-resource-sharing-cors"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cross-origin-resource-sharing-cors"}},[e._v("#")]),e._v(" Cross-origin resource sharing (CORS)")]),e._v(" "),o("h3",{attrs:{id:"cors-origin"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cors-origin"}},[e._v("#")]),e._v(" CORS Origin")]),e._v(" "),o("p",[e._v("Single origin or list of origins to allow cross-origin resource sharing. Define these, when SPA applications ("),o("code",[e._v("admin")]),e._v(" and "),o("code",[e._v("survey")]),e._v(" sites) are deployed to different domain than "),o("code",[e._v("API Server")])]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("cors.origin")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("CORS_ORIGIN")]),e._v(" (for list of origins, use "),o("code",[e._v("comma-delimited")]),e._v(" string)")]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string | string[] | boolean")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("false")])])]),e._v(" "),o("h2",{attrs:{id:"json-web-tokens"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#json-web-tokens"}},[e._v("#")]),e._v(" JSON web tokens")]),e._v(" "),o("p",[e._v("JSON web tokens ("),o("code",[e._v("JWT")]),e._v(") settings")]),e._v(" "),o("h3",{attrs:{id:"issuer"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#issuer"}},[e._v("#")]),e._v(" Issuer")]),e._v(" "),o("p",[e._v("Issuer for signing JWT tokens")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.issuer")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("'intake24'")])])]),e._v(" "),o("h3",{attrs:{id:"access-token-secret"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#access-token-secret"}},[e._v("#")]),e._v(" Access token secret")]),e._v(" "),o("p",[e._v("Secret to sign JWT access token")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.access.secret")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_ACCESS_SECRET")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])])]),e._v(" "),o("h3",{attrs:{id:"access-token-lifetime"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#access-token-lifetime"}},[e._v("#")]),e._v(" Access token lifetime")]),e._v(" "),o("p",[e._v("Lifetime of JWT access token. Defined as "),o("code",[e._v("ms-formatted")]),e._v(" string, see "),o("a",{attrs:{href:"https://github.com/vercel/ms",target:"_blank",rel:"noopener noreferrer"}},[e._v("ms"),o("OutboundLink")],1),e._v(" for more information.")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.access.lifetime")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_ACCESS_LIFETIME")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("'15m'")])])]),e._v(" "),o("h3",{attrs:{id:"refresh-token-secret"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#refresh-token-secret"}},[e._v("#")]),e._v(" Refresh token secret")]),e._v(" "),o("p",[e._v("Secret to sign JWT refresh token")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.refresh.secret")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_REFRESH_SECRET")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])])]),e._v(" "),o("h3",{attrs:{id:"refresh-token-lifetime"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#refresh-token-lifetime"}},[e._v("#")]),e._v(" Refresh token lifetime")]),e._v(" "),o("p",[e._v("Lifetime of JWT refresh token. Defined as "),o("code",[e._v("ms-formatted")]),e._v(" string, see "),o("a",{attrs:{href:"https://github.com/vercel/ms",target:"_blank",rel:"noopener noreferrer"}},[e._v("ms"),o("OutboundLink")],1),e._v(" for more information.")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.refresh.lifetime")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_REFRESH_LIFETIME")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("'1d'")])])]),e._v(" "),o("h2",{attrs:{id:"jwt-refresh-token-cookie"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#jwt-refresh-token-cookie"}},[e._v("#")]),e._v(" JWT Refresh token cookie")]),e._v(" "),o("p",[e._v("Refresh token is stored in "),o("code",[e._v("http-only")]),e._v(" cookie in client's browser. There are several properties to configure refresh token cookie.")]),e._v(" "),o("h3",{attrs:{id:"cookie-name"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-name"}},[e._v("#")]),e._v(" Cookie name")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.cookie.name")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("it24_refresh_token")])])]),e._v(" "),o("h3",{attrs:{id:"cookie-maxage"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-maxage"}},[e._v("#")]),e._v(" Cookie maxAge")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.cookie.name")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("jwt.refresh.lifetime")]),e._v(" value")]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])])]),e._v(" "),o("h3",{attrs:{id:"cookie-httponly"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-httponly"}},[e._v("#")]),e._v(" Cookie httpOnly")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.cookie.httpOnly")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("boolean")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("true")])])]),e._v(" "),o("h3",{attrs:{id:"cookie-path"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-path"}},[e._v("#")]),e._v(" Cookie path")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.cookie.path")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_COOKIE_PATH")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("'/api/refresh'")])])]),e._v(" "),o("h3",{attrs:{id:"cookie-samesite"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-samesite"}},[e._v("#")]),e._v(" Cookie sameSite")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.cookie.sameSite")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_COOKIE_SAMESITE")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("boolean | 'lax' | 'strict' | 'none'")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("'lax'")])])]),e._v(" "),o("h3",{attrs:{id:"cookie-secure"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#cookie-secure"}},[e._v("#")]),e._v(" Cookie secure")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("jwt.cookie.httpOnly")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("JWT_COOKIE_SECURE")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("boolean")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("false")])])]),e._v(" "),o("h2",{attrs:{id:"multi-factor-authentication-mfa"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#multi-factor-authentication-mfa"}},[e._v("#")]),e._v(" Multi-factor authentication (MFA)")]),e._v(" "),o("p",[e._v("System supports multi-factor authentication ("),o("code",[e._v("MFA")]),e._v(") for admin login.")]),e._v(" "),o("p",[e._v("Supported providers:")]),e._v(" "),o("ul",[o("li",[o("a",{attrs:{href:"https://duo.com",target:"_blank",rel:"noopener noreferrer"}},[e._v("Duo Security"),o("OutboundLink")],1)])]),e._v(" "),o("p",[e._v("MFA has to be enabled on system-level (configuration) and user-level (database user record).")]),e._v(" "),o("h3",{attrs:{id:"enabled"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#enabled"}},[e._v("#")]),e._v(" Enabled")]),e._v(" "),o("p",[e._v("Determines whether the MFA is system-enabled or not")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("mfa.enabled")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("MFA_ENABLED")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("boolean")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("false")])])]),e._v(" "),o("h3",{attrs:{id:"provider"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#provider"}},[e._v("#")]),e._v(" Provider")]),e._v(" "),o("p",[e._v("Selected provider for MFA")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("mfa.provider")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("MFA_PROVIDER")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("'duo'")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("'duo'")])])]),e._v(" "),o("h3",{attrs:{id:"duo-provider-settings"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#duo-provider-settings"}},[e._v("#")]),e._v(" Duo provider settings")]),e._v(" "),o("p",[e._v("For more information, check out "),o("a",{attrs:{href:"https://duo.com/docs/duoweb",target:"_blank",rel:"noopener noreferrer"}},[e._v("duo's documentation for WebSDK"),o("OutboundLink")],1)]),e._v(" "),o("h4",{attrs:{id:"integration-key"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#integration-key"}},[e._v("#")]),e._v(" Integration key")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("mfa.providers.duo.ikey")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("DUO_IKEY")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("''")])])]),e._v(" "),o("h4",{attrs:{id:"secret-key"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#secret-key"}},[e._v("#")]),e._v(" Secret key")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("mfa.providers.duo.skey")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("DUO_SKEY")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("''")])])]),e._v(" "),o("h4",{attrs:{id:"application-secret-key"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#application-secret-key"}},[e._v("#")]),e._v(" Application secret key")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("mfa.providers.duo.akey")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("DUO_AKEY")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("''")])])]),e._v(" "),o("h4",{attrs:{id:"host"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#host"}},[e._v("#")]),e._v(" Host")]),e._v(" "),o("p",[e._v("API hostname (e.g. api-a1b2c3d4e5.duosecurity.com)")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("mfa.providers.duo.host")])]),e._v(" "),o("li",[e._v("dotenv var: "),o("code",[e._v("DUO_HOST")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("''")])])]),e._v(" "),o("h2",{attrs:{id:"passwords"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#passwords"}},[e._v("#")]),e._v(" Passwords")]),e._v(" "),o("p",[e._v("Settings for password restore functionality.")]),e._v(" "),o("h3",{attrs:{id:"expire"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#expire"}},[e._v("#")]),e._v(" Expire")]),e._v(" "),o("p",[e._v("Password reset link expiration in "),o("strong",[e._v("minutes")]),e._v(".")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("passwords.expire")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("number")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("60")])])]),e._v(" "),o("h3",{attrs:{id:"throttle"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#throttle"}},[e._v("#")]),e._v(" Throttle")]),e._v(" "),o("p",[e._v("Rate limit setting for password request. It allows 1 request per "),o("code",[e._v("throttle")]),e._v(" value. Value is set in "),o("strong",[e._v("seconds")]),e._v(".")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("passwords.throttle")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("number")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("60")])])]),e._v(" "),o("h2",{attrs:{id:"authentication-tokens"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#authentication-tokens"}},[e._v("#")]),e._v(" Authentication tokens")]),e._v(" "),o("p",[e._v("Settings for generation of random authentication tokens.")]),e._v(" "),o("h3",{attrs:{id:"size"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#size"}},[e._v("#")]),e._v(" Size")]),e._v(" "),o("p",[e._v("Size of the tokens - string's length.")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("authTokens.size")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("number")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("21")])])]),e._v(" "),o("h3",{attrs:{id:"alphabet"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#alphabet"}},[e._v("#")]),e._v(" Alphabet")]),e._v(" "),o("p",[e._v("String of custom alphabet - character set to be used for token generation.")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("authTokens.alphabet")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("string | null")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("null")])])]),e._v(" "),o("h2",{attrs:{id:"sign-in-logging"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#sign-in-logging"}},[e._v("#")]),e._v(" Sign-in logging")]),e._v(" "),o("p",[e._v("Settings for sign-in logging.")]),e._v(" "),o("h3",{attrs:{id:"enabled-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#enabled-2"}},[e._v("#")]),e._v(" Enabled")]),e._v(" "),o("p",[e._v("Enable/disable database logging of sign-in attempts.")]),e._v(" "),o("ul",[o("li",[e._v("object-path: "),o("code",[e._v("signInLog.enabled")])]),e._v(" "),o("li",[e._v("type: "),o("code",[e._v("boolean")])]),e._v(" "),o("li",[e._v("default: "),o("code",[e._v("true")])])])])}),[],!1,null,null,null);t.default=a.exports}}]);