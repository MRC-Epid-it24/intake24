(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{384:function(t,a,e){"use strict";e.r(a);var s=e(25),r=Object(s.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"portion-size-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#portion-size-data"}},[t._v("#")]),t._v(" Portion size data")]),t._v(" "),e("p",[t._v("Functions related to portion size estimation and browsing the food database as a survey respondent.")]),t._v(" "),e("h2",{attrs:{id:"get-food-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-food-data"}},[t._v("#")]),t._v(" Get food data")]),t._v(" "),e("p",[t._v("Get portion size estimation options, associated foods and related data for a food from the database.")]),t._v(" "),e("p",[e("a",{attrs:{href:"https://github.com/MRC-Epid-it24/api-server/blob/master/ApiPlayServer/app/controllers/food/user/FoodDataController.scala#L96-L112",target:"_blank",rel:"noopener noreferrer"}},[t._v("v3 implementation"),e("OutboundLink")],1)]),t._v(" "),e("h3",{attrs:{id:"request"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#request"}},[t._v("#")]),t._v(" Request")]),t._v(" "),e("div",{staticClass:"language-html extra-class"},[e("pre",{pre:!0,attrs:{class:"language-html"}},[e("code",[t._v("GET /api/user/foods/{locale}/{code}    \n\nAuthorization: Bearer {accessToken}\n")])])]),e("p",[t._v("where")]),t._v(" "),e("p",[e("strong",[t._v("locale")]),t._v(" is the locale ID to get the food data for,")]),t._v(" "),e("p",[e("strong",[t._v("code")]),t._v(" is the Intake24 food code.")]),t._v(" "),e("h3",{attrs:{id:"response"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#response"}},[t._v("#")]),t._v(" Response")]),t._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"code"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"localDescription"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"readyMealOption"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"sameAsBeforeOption"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"caloriesPer100g"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" number"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"brands"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"categories"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"associatedFoods"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"foodOrCategoryCode"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"promptText"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"linkAsMain"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"genericName"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    ...\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"portionSizeMethods"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"method"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"standard-portion"')]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"as-served"')]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"guide-image"')]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cereal"')]),t._v(" \n                | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"drink-scale"')]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"milk-on-cereal"')]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"milk-in-a-hot-drink"')]),t._v(" | "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"pizza"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"description"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"imageUrl"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"useForRecipes"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" boolean"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"conversionFactor"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"parameters"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),e("span",{pre:!0,attrs:{class:"token property"}},[t._v('"..."')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" string"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          ...\n       "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("where")]),t._v(" "),e("p",[e("strong",[t._v("code")]),t._v(" is the Intake24 food code,")]),t._v(" "),e("p",[e("strong",[t._v("localDescription")]),t._v(" is the name of the food in the current locale,")]),t._v(" "),e("p",[e("strong",[t._v("readyMealOption")]),t._v(" controls whether to display the ready meal prompt for this food,")]),t._v(" "),e("p",[e("strong",[t._v("sameAsBeforeOption")]),t._v(" controls whether to enable the same-as-before feature for this food,")]),t._v(" "),e("p",[e("strong",[t._v("caloriesPer100g")]),t._v(" is the amount of kcal per 100g of this food, used to trigger the low total energy prompt,")]),t._v(" "),e("p",[e("strong",[t._v("brands")]),t._v(" is the list of known brands for this food, used in the brands prompt,")]),t._v(" "),e("p",[e("strong",[t._v("categories")]),t._v(" is the list of all parent categories for this food, including transitive,")]),t._v(" "),e("p",[e("strong",[t._v("associatedFoods")]),t._v(" is the list of associated food suggestions, where:")]),t._v(" "),e("div",{staticStyle:{"margin-left":"3em"}},[e("p",[e("strong",[t._v("foodOrCategoryCode")]),t._v(" is an array of 2 elements where the first element is either 0 or 1. If the\nfirst element is 0, then the second element is a food code, or, if the first element is 1, the second\nelement is a category code,")]),t._v(" "),e("p",[e("strong",[t._v("promptText")]),t._v(" is the wording of the associated food question,")]),t._v(" "),e("p",[e("strong",[t._v("linkAsMain")]),t._v(' controls whether accepted associated food suggestions should be created as "main" or "linked",')]),t._v(" "),e("p",[e("strong",[t._v("genericName")]),t._v(' is the simple name of the associated food, used by some UI elements (e.g., "bread", "sauce")')])]),t._v(" "),e("p",[e("strong",[t._v("portionSizeMethods")]),t._v(" is the list of available portion size estimation options, where:")]),t._v(" "),e("div",{staticStyle:{"margin-left":"3em"}},[e("p",[e("strong",[t._v("method")]),t._v(" is ID of the portion size estimation method to use,")]),t._v(" "),e("p",[e("strong",[t._v("description")]),t._v(" is the description of this portion size estimation option for the selection screen (localised\nstring key),")]),t._v(" "),e("p",[e("strong",[t._v("imageUrl")]),t._v(" is the link to the image for the selection screen,")]),t._v(" "),e("p",[e("strong",[t._v("useForRecipes")]),t._v(" controls whether this portion size estimation option is appropriate for recipe ingredients,")]),t._v(" "),e("p",[e("strong",[t._v("conversionFactor")]),t._v(" is the multiplier for the final potion weight calculation (e.g. when portion size images\ndo not represent the exact food but something similar that could have different density),")]),t._v(" "),e("p",[e("strong",[t._v("parameters")]),t._v(" is the object with fields specific to the portion size method.")])]),t._v(" "),e("h2",{attrs:{id:"get-as-served-image-set-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-as-served-image-set-data"}},[t._v("#")]),t._v(" Get as served image set data")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/portion-size/as-served/{id}")\nvoid getAsServedSet(@PathParam("id") String id, MethodCallback<AsServedSet> callback);\n')])])]),e("h2",{attrs:{id:"get-multiple-as-served-image-sets-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-multiple-as-served-image-sets-data"}},[t._v("#")]),t._v(" Get multiple as served image sets data")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@POST\n@Path("/user/portion-size/as-served")\nvoid getAsServedSets(List<String> ids, MethodCallback<List<AsServedSet>> callback);\n')])])]),e("h2",{attrs:{id:"get-guide-image-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-guide-image-data"}},[t._v("#")]),t._v(" Get guide image data")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/portion-size/guide-image/{id}")\nvoid getGuideImage(@PathParam("id") String id, MethodCallback<GuideImage> callback);\n')])])]),e("h2",{attrs:{id:"get-image-map-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-image-map-data"}},[t._v("#")]),t._v(" Get image map data")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/portion-size/image-maps/{id}")\nvoid getImageMap(@PathParam("id") String id, MethodCallback<SImageMap> callback);\n')])])]),e("h2",{attrs:{id:"get-multiple-image-maps-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-multiple-image-maps-data"}},[t._v("#")]),t._v(" Get multiple image maps data")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@POST\n@Path("/user/portion-size/image-maps")\nvoid getImageMaps(List<String> ids, MethodCallback<List<SImageMap>> callback);\n')])])]),e("h2",{attrs:{id:"get-drink-scale-data"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-drink-scale-data"}},[t._v("#")]),t._v(" Get drink scale data")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/portion-size/drinkware/{id}")\nvoid getDrinkwareSet(@PathParam("id") String id, MethodCallback<DrinkwareSet> callback);\n')])])]),e("h2",{attrs:{id:"weight-entry-dummy"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#weight-entry-dummy"}},[t._v("#")]),t._v(" Weight entry dummy")]),t._v(" "),e("p",[t._v("Dummy endpoint for manual weight entry estimation method")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/portion-size/weight")\nvoid getWeightPortionSizeMethod(MethodCallback<PortionSizeMethod> callback);\n')])])]),e("h2",{attrs:{id:"get-root-category-list-for-browsing"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-root-category-list-for-browsing"}},[t._v("#")]),t._v(" Get root category list for browsing")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/categories/{locale}")\nvoid getRootCategories(@PathParam("locale") String localeId, MethodCallback<List<CategoryHeader>> callback);\n')])])]),e("h2",{attrs:{id:"list-category-contents"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#list-category-contents"}},[t._v("#")]),t._v(" List category contents")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/categories/{locale}/{code}")\nvoid getCategoryContents(@PathParam("locale") String localeId, @PathParam("code") String categoryCode,\n                         @QueryParam("alg") String algorithmId, @QueryParam("existing") List<String> existingFoods,\n                         MethodCallback<LookupResult> callback);\n')])])]),e("h2",{attrs:{id:"get-automatic-associated-foods-suggestions"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#get-automatic-associated-foods-suggestions"}},[t._v("#")]),t._v(" Get automatic associated foods suggestions")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[t._v('@GET\n@Path("/user/foods/associated/{locale}")\nvoid getAutomaticAssociatedFoods(@PathParam("locale") String localeId, @QueryParam("f") List<String> foodCodes, MethodCallback<AutomaticAssociatedFoods> callback);\n')])])])])}),[],!1,null,null,null);a.default=r.exports}}]);