(window.webpackJsonp=window.webpackJsonp||[]).push([[67],{482:function(e,t,o){"use strict";o.r(t);var s=o(31),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("h1",{attrs:{id:"getting-started"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#getting-started"}},[e._v("#")]),e._v(" Getting started")]),e._v(" "),o("h2",{attrs:{id:"dev-instance"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#dev-instance"}},[e._v("#")]),e._v(" Dev instance")]),e._v(" "),o("p",[e._v("Steps to getting a local instance running")]),e._v(" "),o("ul",[o("li",[e._v("Run Dev VM (download from S3 bucket - contact the Intake24 team), which maps out the database on 192.168.56.10:5432 (PostgreSQL). Start this VM.")]),e._v(" "),o("li",[e._v("Clone the master repository from Github "),o("a",{attrs:{href:"https://github.com/MRC-Epid-it24/intake24",target:"_blank",rel:"noopener noreferrer"}},[e._v("link"),o("OutboundLink")],1)]),e._v(" "),o("li",[e._v("Follow instructions to README to install node modules (e.g. "),o("code",[e._v("npm install")]),e._v(" on each folder)")]),e._v(" "),o("li",[e._v("Local servers need to be run for "),o("code",[e._v("api")]),e._v(", "),o("code",[e._v("admin")]),e._v(" and "),o("code",[e._v("survey")]),e._v(" from each respective folder:\n"),o("ul",[o("li",[e._v("To start "),o("code",[e._v("api")]),e._v(": "),o("code",[e._v("npm run dev")])]),e._v(" "),o("li",[e._v("To start "),o("code",[e._v("admin")]),e._v(" and "),o("code",[e._v("survey")]),e._v(": "),o("code",[e._v("npm run serve")]),e._v(" for live reloads")])])])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("Authentication uses cookies, so separate browser sessions will be required to use both "),o("code",[e._v("admin")]),e._v(" and "),o("code",[e._v("survey")]),e._v(" interfaces at the same time.")])]),e._v(" "),o("h2",{attrs:{id:"useful-tools"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#useful-tools"}},[e._v("#")]),e._v(" Useful tools")]),e._v(" "),o("ul",[o("li",[e._v("IDE for developing Node, Typescript, npm and associated tooling (e.g. VS Code)")]),e._v(" "),o("li",[e._v("Virtual Box (v6.x minimum) for running database VM")]),e._v(" "),o("li",[e._v("Database browser (e.g. DBeaver) for exploring/manipulating PostgreSQL DB.")])]),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("Intake24 requires node.js version 12 or newer, please make sure to check your node.js version before continuing.")])]),e._v(" "),o("p",[e._v("Clone the "),o("a",{attrs:{href:"https://github.com/MRC-Epid-it24/intake24",target:"_blank",rel:"noopener noreferrer"}},[e._v("Intake24 version 4 repository on GitHub"),o("OutboundLink")],1),e._v(".")]),e._v(" "),o("p",[e._v("Follow the readme instructions in the root of the repository.")]),e._v(" "),o("h2",{attrs:{id:"databases"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#databases"}},[e._v("#")]),e._v(" Databases")]),e._v(" "),o("p",[e._v("Standalone database snapshots are currently unavailable, please use the "),o("RouterLink",{attrs:{to:"/developer/vm.html"}},[e._v("development virtual machine")]),e._v(".")],1),e._v(" "),o("h2",{attrs:{id:"api-server"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#api-server"}},[e._v("#")]),e._v(" API server")]),e._v(" "),o("p",[e._v("Go to "),o("code",[e._v("api")]),e._v(" and follow instructions in the readme file.")]),e._v(" "),o("p",[e._v("Copy the "),o("code",[e._v(".env-template")]),e._v(" file to "),o("code",[e._v(".env")]),e._v(" and change the following settings:")]),e._v(" "),o("ul",[o("li",[o("code",[e._v("JWT_ACCESS_SECRET")]),e._v(" — set to any string (security doesn't matter for development purposes), e.g. "),o("code",[e._v("verybigsecret")]),e._v(",")]),e._v(" "),o("li",[o("code",[e._v("JWS_REFRESH_SECRET")]),e._v(" — same as above but use a different secret,")]),e._v(" "),o("li",[o("code",[e._v("DB_SYSTEM_HOST")]),e._v(" — set to "),o("code",[e._v("192.168.56.4")]),e._v(" if using the development VM or alternatively point to your own database\ninstance,")]),e._v(" "),o("li",[o("code",[e._v("DB_SYSTEM_PORT")]),e._v(", "),o("code",[e._v("DB_SYSTEM_USERNAME")]),e._v(", "),o("code",[e._v("DB_SYSTEM_PASSWORD")]),e._v(" — keep the default settings if using the VM or edit\naccording to your own DB settings,")]),e._v(" "),o("li",[o("code",[e._v("DB_FOODS_HOST")]),e._v(" — set to "),o("code",[e._v("192.168.56.4")]),e._v(" if using the development VM or alternatively point to your own database\ninstance,")]),e._v(" "),o("li",[o("code",[e._v("DB_FOODS_PORT")]),e._v(", "),o("code",[e._v("DB_FOODS_USERNAME")]),e._v(", "),o("code",[e._v("DB_FOODS_PASSWORD")]),e._v(" — keep the default settings if using the VM or edit\naccording to your own DB settings,")]),e._v(" "),o("li",[o("code",[e._v("QUEUE_REDIS_HOST")]),e._v(" —  set to "),o("code",[e._v("192.168.56.4")]),e._v(" if using the development VM or alternatively point to your own Redis\ninstance.")])]),e._v(" "),o("p",[e._v("Check that the settings are correct by starting the server with "),o("code",[e._v("npm run dev")]),e._v(".")]),e._v(" "),o("h2",{attrs:{id:"api-access"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#api-access"}},[e._v("#")]),e._v(" API access")]),e._v(" "),o("p",[e._v("The default user with superuser rights is "),o("code",[e._v("admin")]),e._v(" and the password is "),o("code",[e._v("intake24")]),e._v(". Refer to the "),o("RouterLink",{attrs:{to:"/api/"}},[e._v("API docs")]),e._v(" for\nfurther details.")],1),e._v(" "),o("div",{staticClass:"custom-block tip"},[o("p",{staticClass:"custom-block-title"},[e._v("TIP")]),e._v(" "),o("p",[e._v("Use the e-mail log in endpoint ("),o("code",[e._v("/api/login")]),e._v(') for the admin user even though "admin" is not a valid e-mail address.')])])])}),[],!1,null,null,null);t.default=a.exports}}]);