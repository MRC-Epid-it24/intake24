import{_ as e,c as a,o as t,a4 as i}from"./chunks/framework.CvR0xHCp.js";const y=JSON.parse('{"title":"Integrations","description":"","frontmatter":{},"headers":[],"relativePath":"guides/integrations.md","filePath":"guides/integrations.md"}'),s={name:"guides/integrations.md"},n=i(`<h1 id="integrations" tabindex="-1">Integrations <a class="header-anchor" href="#integrations" aria-label="Permalink to &quot;Integrations&quot;">​</a></h1><p>Looking to integrate with Intake24? Here&#39;s how to do it.</p><p>Intake24 provides access to <a href="/api/">REST API</a>, consumed by 1st party applications, <a href="/admin/">admin tool</a> and <a href="/survey/">survey app</a>.</p><p><a href="/api/">REST API</a> can be used to integrate with any other 3rd party system. For machine-to-machine communication, <a href="/admin/user/personal-access-tokens">personal access tokens</a> can be used rather than primary user credentials.</p><p>While REST API is a generic interface to be used per-use case basis. There are few features that can be used to integrate 3rd party survey flow with the Intake24 in a more seamless way, like:</p><ul><li>Respondent account creation</li><li>Survey completion notifications</li><li>Redirecting to 3rd party system.</li></ul><h2 id="respondent-account-creation" tabindex="-1">Respondent account creation <a class="header-anchor" href="#respondent-account-creation" aria-label="Permalink to &quot;Respondent account creation&quot;">​</a></h2><p>Traditionally, respondent accounts can be created manually in <a href="/admin/surveys/#respondents">Admin Tool UI</a> either using form UI or <a href="/admin/system/job-types.html#surveyimportrespondents">uploading CSV file</a> for bulk creation. This is suitable for small scale studies or batch-style data processing where respondent accounts are created in advance.</p><p>Respondent accounts can also be created on the fly using <a href="#survey-api">Survey API</a> or <a href="#admin-api">Admin API</a>. This is suitable for large scale studies, where seamless integration is required for real-time data processing/monitoring and respondent accounts are created on demand and users automatically redirected into the Intake24 system.</p><h3 id="survey-api" tabindex="-1">Survey API <a class="header-anchor" href="#survey-api" aria-label="Permalink to &quot;Survey API&quot;">​</a></h3><p>Survey can be enabled with respondent account generation using shared secret. To enable this feature, read <a href="/admin/surveys/#users-settings">survey user settings</a> section.</p><ul><li>tick <code>allow user generation</code></li><li>set up <code>jwt secret</code> - opaque string to sign JWT for secure communication between Intake24 and 3rd party system</li></ul><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>JWT secret should be treated as a <code>shared secret for machine-to-machine communication</code>. Therefore it should always be securely stored in backend and not embedded in frontend code, where it can be easily extracted and misused.</p></div><p>Once enabled, two options listed below can be used to create respondent accounts. Regardless of the option, <a href="/open-api.html#tag/survey/post/surveys/{slug}/create-user" target="blank">JWT token</a> with payload must be created.</p><h4 id="a-api-endpoint" tabindex="-1">A) API endpoint <a class="header-anchor" href="#a-api-endpoint" aria-label="Permalink to &quot;A) API endpoint&quot;">​</a></h4><ul><li>use <a href="/open-api.html#tag/survey/post/surveys/{slug}/create-user" target="blank">create user API endpoint</a></li><li>create JWT token with desired payload according the specification</li></ul><h4 id="specifications-of-token" tabindex="-1">Specifications of <code>token</code> <a class="header-anchor" href="#specifications-of-token" aria-label="Permalink to &quot;Specifications of \`token\`&quot;">​</a></h4><ul><li><code>token</code> must be a valid JWT token signed with the <a href="/admin/surveys/#users-settings"><code>JWT secret</code></a>.</li><li><code>HS256</code> and <code>HS512</code> algorithms are supported.</li><li>expected claims / payload shape: <ul><li><code>username</code> - Unique respondent username within the survey</li><li><code>password</code> (optional) - password for username:password login</li><li><code>redirectUrl</code> (optional) - redirect URL for user redirection after recall completion</li><li><code>name</code> (optional) - user&#39;s name for personalisation</li></ul></li></ul><h4 id="jwt-payload" tabindex="-1">JWT payload <a class="header-anchor" href="#jwt-payload" aria-label="Permalink to &quot;JWT payload&quot;">​</a></h4><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;username&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">string</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;password&quot;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">?</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">string</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;redirectUrl&quot;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">?:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> string</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;name&quot;</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">?:</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> string</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><ul><li>form authentication URL with response details <a href="/admin/surveys/#authentication-urls">authentication URL patterns</a></li><li>redirect respondent to the URL</li></ul><h4 id="b-frontend-app-url" tabindex="-1">B) Frontend app URL <a class="header-anchor" href="#b-frontend-app-url" aria-label="Permalink to &quot;B) Frontend app URL&quot;">​</a></h4><ul><li>route: <code>app.domain.com/{surveyId}/create-user/{token}</code></li><li>under the hood same API endpoint is used as in <code>option A</code> and user is directly authenticated</li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Pick suitable option based on integration use case, depending whether you need to process API response (<code>A</code>) or not (<code>B</code>).</p></div><h3 id="admin-api" tabindex="-1">Admin API <a class="header-anchor" href="#admin-api" aria-label="Permalink to &quot;Admin API&quot;">​</a></h3><p><a href="/api/admin/surveys/respondents">Admin API</a> can be used to create respondent accounts. This requires admin access to Intake24 and going through admin authentication flow.</p><h2 id="survey-completion-notifications" tabindex="-1">Survey completion notifications <a class="header-anchor" href="#survey-completion-notifications" aria-label="Permalink to &quot;Survey completion notifications&quot;">​</a></h2><p>Intake24 can notify 3rd party system about survey completion using registered webhook. To enable this feature, read <a href="/admin/surveys/#external-communication">survey external communication</a> section.</p><ul><li>set up <code>webhook url</code> - URL to be called when survey recall is submitted</li><li>upon each survey submission, system dispatches <a href="/admin/system/job-types.html#surveysubmissionnotification">survey submission notification</a> job with described request.</li></ul><p>Request payload contains submission data. If <code>JWT secret</code> is set in <a href="/admin/surveys/#external-communication">survey external communication</a> section, Authorization header is attached with signed JWT token.</p><h2 id="redirecting-to-3rd-party-system" tabindex="-1">Redirecting to 3rd party system <a class="header-anchor" href="#redirecting-to-3rd-party-system" aria-label="Permalink to &quot;Redirecting to 3rd party system&quot;">​</a></h2><p>Intake24 can redirect respondent to 3rd party system upon survey recall completion. To enable this feature, survey scheme needs to set up with terminal <code>redirect prompt</code> including desired parameters to form the <code>redirect URL</code>. Please see <a href="/admin/surveys/prompt-types.html#redirect-prompt">redirect prompt</a> for more details.</p><h2 id="missing-integration" tabindex="-1">Missing integration? <a class="header-anchor" href="#missing-integration" aria-label="Permalink to &quot;Missing integration?&quot;">​</a></h2><p>Please note options described above are not exhaustive. It is a list of most used methods, for more details consult <a href="/api/">API documentation</a>.</p><p>Not found the integration you&#39;re looking for? We appreciate that every system is a bit different, so we&#39;re happy to advise and where possible extend Intake24 to allow for seamless integration and wider adoption. Open an issue on <a href="https://github.com/MRC-Epid-it24/intake24/issues" target="_blank" rel="noreferrer">GitHub</a> and we will try to help.</p>`,35),o=[n];function r(l,d,c,p,h,u){return t(),a("div",null,o)}const k=e(s,[["render",r]]);export{y as __pageData,k as default};
