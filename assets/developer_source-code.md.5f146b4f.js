import{_ as e,c as o,o as t,a as n}from"./app.df7875f4.js";const m='{"title":"Source code","description":"","frontmatter":{},"headers":[{"level":2,"title":"Repository","slug":"repository"},{"level":2,"title":"Dependencies","slug":"dependencies"},{"level":2,"title":"Code style","slug":"code-style"},{"level":2,"title":"Renovate","slug":"renovate"},{"level":2,"title":"Continuous integration","slug":"continuous-integration"},{"level":3,"title":"Build","slug":"build"},{"level":3,"title":"Documentation","slug":"documentation"}],"relativePath":"developer/source-code.md"}',a={},r=n(`<h1 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-hidden="true">#</a></h1><p>Install <code>git</code> if you don&#39;t already have it.</p><h2 id="repository" tabindex="-1">Repository <a class="header-anchor" href="#repository" aria-hidden="true">#</a></h2><p>Clone the repository</p><div class="language-sh"><pre><code>git clone https://github.com/MRC-Epid-it24/intake24
</code></pre></div><p>Repository is set as mono-repository with <a href="https://docs.npmjs.com/cli/v7/using-npm/workspaces" target="_blank" rel="noopener noreferrer">workspaces</a>.</p><p>Applications are in <code>apps</code> folder. Shared components are in <code>packages</code> folder.</p><div class="language-"><pre><code>.
\u251C\u2500 .github -&gt; Github actions / workflows
\u251C\u2500 apps -&gt; Applications
\u2502  \u2514\u2500 api -&gt; API Server
\u2502  \u2514\u2500 admin -&gt; Admin tool
\u2502  \u2514\u2500 cli -&gt; Command line interface
\u2502  \u2514\u2500 survey -&gt; Survey application
\u251C\u2500 deployment - Ansible playbooks / scripts for deployment
\u251C\u2500 docs -&gt; Documentation
\u2514\u2500 packages
   \u2514\u2500 common (common shared code)
   \u2514\u2500 db (database layer)
   \u2514\u2500 i18n (translations)
   \u2514\u2500 services (shared services for apps)
   \u2514\u2500 ui (shared UI components for frontend apps)
</code></pre></div><h2 id="dependencies" tabindex="-1">Dependencies <a class="header-anchor" href="#dependencies" aria-hidden="true">#</a></h2><p>Intake24 components are set up with <code>pnpm</code>.</p><p>Install <code>pnpm</code> using built-in <code>npm</code> or see <a href="https://pnpm.io" target="_blank" rel="noopener noreferrer">pnpm docs</a> for further options.</p><div class="language-sh"><pre><code>npm install -g pnpm
</code></pre></div><p>Install all dependencies from root-level</p><div class="language-sh"><pre><code>pnpm install
</code></pre></div><h2 id="code-style" tabindex="-1">Code style <a class="header-anchor" href="#code-style" aria-hidden="true">#</a></h2><p>Project is set up with <a href="https://eslint.org/" target="_blank" rel="noopener noreferrer">eslint</a> and <a href="https://prettier.io/" target="_blank" rel="noopener noreferrer">prettier</a> to help to keep clean and maintainable code.</p><p>Both integrate very well with most of the IDEs. You will probably just need to install respective plugins / extensions and configure it to run on <code>save</code> to have immediate effect.</p><p>You can also run it manually from root-level or in each <code>app</code> / <code>package</code>.</p><p>Run linting</p><div class="language-sh"><pre><code>pnpm lint
</code></pre></div><p>Run linting and try to fix as much as possible automatically</p><div class="language-sh"><pre><code>pnpm lint:fix
</code></pre></div><h2 id="renovate" tabindex="-1">Renovate <a class="header-anchor" href="#renovate" aria-hidden="true">#</a></h2><p>Repository is set up with <a href="https://github.com/renovatebot/renovate" target="_blank" rel="noopener noreferrer">renovate bot</a>, which checks the dependecies prepare PRs. It runs on weekly basis and can be configured using <a href="https://github.com/MRC-Epid-it24/intake24/blob/master/.github/renovate.json5" target="_blank" rel="noopener noreferrer"><code>.github/renovate.json5</code></a> config file.</p><h2 id="continuous-integration" tabindex="-1">Continuous integration <a class="header-anchor" href="#continuous-integration" aria-hidden="true">#</a></h2><h3 id="build" tabindex="-1">Build <a class="header-anchor" href="#build" aria-hidden="true">#</a></h3><p>Main <a href="https://github.com/MRC-Epid-it24/intake24/blob/master/.github/workflows/ci.yml" target="_blank" rel="noopener noreferrer">Build CI</a> action is triggered on source code change and it runs build / tests / lint steps for each components to ensure all is working as expected.</p><h3 id="documentation" tabindex="-1">Documentation <a class="header-anchor" href="#documentation" aria-hidden="true">#</a></h3><p>Whenever <code>docs</code> source code is modified, <a href="https://github.com/MRC-Epid-it24/intake24/blob/master/.github/workflows/docs.yml" target="_blank" rel="noopener noreferrer">Docs CI</a> is triggered and documentation site is automatically rebuilt.</p>`,29),i=[r];function s(d,c,l,p,h,u){return t(),o("div",null,i)}var f=e(a,[["render",s]]);export{m as __pageData,f as default};
