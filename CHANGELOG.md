# [2022.0.0-beta.2](https://github.com/MRC-Epid-it24/intake24/compare/v2022.0.0-beta.1...v2022.0.0-beta.2) (2022-11-08)

### Bug Fixes

- **admin/survey:** V4-529 support simple html for standard units ([92631d2](https://github.com/MRC-Epid-it24/intake24/commit/92631d2a672b8fb9845125909fd77e7c578f0792))
- **admin:** add associated foods to food entry ([1af5d74](https://github.com/MRC-Epid-it24/intake24/commit/1af5d740f9350eb7cc186fcccca7f4cffc0d4c5a))
- **admin:** catch not matched routes ([35f0ab2](https://github.com/MRC-Epid-it24/intake24/commit/35f0ab2001a5e99c0948d0c8dc8d95446f29a025))
- **admin:** clear date-picker errors on change ([54a2264](https://github.com/MRC-Epid-it24/intake24/commit/54a2264511c6fad791fec42f49433bdfb6fa4984))
- **admin:** correctly track changes in the fetch list ([fb83918](https://github.com/MRC-Epid-it24/intake24/commit/fb839185e7e0350fbe566ff7184c853e24ae8c70))
- **admin:** dd/MM/yyyy format for date-picker ([06ff773](https://github.com/MRC-Epid-it24/intake24/commit/06ff773ce1737f90ec71bd0f82debd66fdd864e7))
- **admin:** default psm selection values ([a2cbec2](https://github.com/MRC-Epid-it24/intake24/commit/a2cbec2f7f4a4fc8afc5cc33fc08067cf2debd18))
- **admin:** dynamic import to split it off main chunk ([d1aedb6](https://github.com/MRC-Epid-it24/intake24/commit/d1aedb6ada517eef682d1bb974a094beef0b7011))
- **admin:** job params types & disabled params ([a43da50](https://github.com/MRC-Epid-it24/intake24/commit/a43da502f6408f5e60ae873374e069695d8e3800))
- **admin:** missing portion size prompts ([dd42142](https://github.com/MRC-Epid-it24/intake24/commit/dd42142585ed9252f8345de0fcb157435cf573a9))
- **admin:** prevent browser pass prefilling in survey settings ([27ba617](https://github.com/MRC-Epid-it24/intake24/commit/27ba61700bafcaef5a0a1f3f826ead71393d4efd))
- **admin:** provide email for browser auto completion ([91d236d](https://github.com/MRC-Epid-it24/intake24/commit/91d236ddd65227008a4bf09fb639c48e86d537ed))
- **admin:** update re-factored job ([8f3e901](https://github.com/MRC-Epid-it24/intake24/commit/8f3e9011854983359117b3860f72063f4bf64a76))
- **all:** modified .gitignore file ([34872aa](https://github.com/MRC-Epid-it24/intake24/commit/34872aa3b8387a23a73d988b9357de89701e651c))
- **api/admin:** V4-551 flush superuser acl cache when permission created ([e95e5ce](https://github.com/MRC-Epid-it24/intake24/commit/e95e5ce5222c51a59a76d816f5e898b8178b7ffb))
- **api:** cereal psm mapper ([86677e6](https://github.com/MRC-Epid-it24/intake24/commit/86677e6d14091a3822ebdfef0a074bfee25013a4))
- **api:** clean cache when submission deleted ([1d44d5d](https://github.com/MRC-Epid-it24/intake24/commit/1d44d5d4388e70de2ac36f677febec16881be6f4))
- **api:** clean up popularity counters service ([56186d5](https://github.com/MRC-Epid-it24/intake24/commit/56186d586d9da94525fc099be109c9f19fce0b19))
- **api:** cleaner types ([f52f763](https://github.com/MRC-Epid-it24/intake24/commit/f52f763c707f3d9ae9afee9e58fd56f930db54a0))
- **api:** correct Locale import ([1880d1e](https://github.com/MRC-Epid-it24/intake24/commit/1880d1e8f3e6739f851fee42b723992c13945c90))
- **api:** do not remove resource permission if user still has access to other records ([6741e31](https://github.com/MRC-Epid-it24/intake24/commit/6741e314f78a9b002466781f3d8dba1ebf7f43f0))
- **api:** estimateIn/howMany top-level object validation ([f64ca88](https://github.com/MRC-Epid-it24/intake24/commit/f64ca88de7c2618a28f8c55763fb1f071a92146b))
- **api:** fetch selection url info for admin category service ([bb6aed3](https://github.com/MRC-Epid-it24/intake24/commit/bb6aed36d0470473e89c3d1086b8a52fab000832))
- **api:** fixed food ranking caching ([b1fddb2](https://github.com/MRC-Epid-it24/intake24/commit/b1fddb2b11046a11f0bceb4e137bb641b7069502))
- **api:** further psm mapping ([d0e2a96](https://github.com/MRC-Epid-it24/intake24/commit/d0e2a9693452958aa6d9cfecac4ae836927d4867))
- **api:** move mapKeys to common utils ([de1868e](https://github.com/MRC-Epid-it24/intake24/commit/de1868e9ce55969c8ada5959a0c1cfc22218d983))
- **api:** move survey views to correct location ([70eb120](https://github.com/MRC-Epid-it24/intake24/commit/70eb120daf4a2efa480036531fb37a71b859493d))
- **api:** remove debug delay ([fdad0d8](https://github.com/MRC-Epid-it24/intake24/commit/fdad0d83f71e9e1152b3814e5cddb7ac3c183606))
- **api:** remove duplicate users from list ([3906622](https://github.com/MRC-Epid-it24/intake24/commit/3906622881d636f89a1aa3882bfdfaa996d22575))
- **api:** sanitize used headers on auth attempt ([8be0eb7](https://github.com/MRC-Epid-it24/intake24/commit/8be0eb735c25ee2787fd0da6c5a944ad064be5e4))
- **api:** send errors to logger instead of console ([ed66e48](https://github.com/MRC-Epid-it24/intake24/commit/ed66e48bb7b1d15de40c10d2ed5d62337c2fa5b9))
- **api:** use survey slug in data export filename ([6b5257d](https://github.com/MRC-Epid-it24/intake24/commit/6b5257d6f5757fb28aa3af9776e9f23fe6ebde48))
- **api:** V4-511 correct selection images for categories ([1d98626](https://github.com/MRC-Epid-it24/intake24/commit/1d9862600ddbae7c6b23bbeeed3af2fd05ea78ea))
- **api:** V4-511 load correct as-served / guide selection images ([a265b1e](https://github.com/MRC-Epid-it24/intake24/commit/a265b1ec321f616b5ee7eb2ca7d9e35997522b41))
- **api:** V4-573- AJV-format platform specific bug fix ([4d78120](https://github.com/MRC-Epid-it24/intake24/commit/4d781202fbf9b7bd4ab3d6c9cca169d49fa6fea9))
- **associated-foods:** V4-593 select next prmpt when previous is completed ([72ddc9e](https://github.com/MRC-Epid-it24/intake24/commit/72ddc9e51bab046bc13eabdfe346686460c12bc4))
- **data-export:** correct food / food group names ([e7b626b](https://github.com/MRC-Epid-it24/intake24/commit/e7b626b9bc4305752bad2a28ad245cd5a58aa61e))
- **deps:** update all non-major dependencies ([126948f](https://github.com/MRC-Epid-it24/intake24/commit/126948f80f07087c1ed8379a96eac58cf415554b))
- **deps:** update dependency awilix to v8 ([c472c2e](https://github.com/MRC-Epid-it24/intake24/commit/c472c2e64449b87a2f396e29762995650b85dcfd))
- **deps:** update dependency fast-copy to v3 ([a5fb7c4](https://github.com/MRC-Epid-it24/intake24/commit/a5fb7c44d6b6d2e71fea93ba88e00b3d54c42a30))
- **deps:** update dependency puppeteer to v19 ([751bac0](https://github.com/MRC-Epid-it24/intake24/commit/751bac012978c770ebb7cab51ecfa08c2148d6a3))
- **drink-scale:** V4-594 round volume label to whole number ([6bf47f2](https://github.com/MRC-Epid-it24/intake24/commit/6bf47f2092fc7a41fce4ba87e29aaa528ee9b025))
- **edit-meal:** resolve delete meal func & sync logic with other prompts ([0ff01e3](https://github.com/MRC-Epid-it24/intake24/commit/0ff01e3e93de925e195482dd1ae93a84880e0498))
- **feedback:** missing consumption in % of energy calculation ([34ba419](https://github.com/MRC-Epid-it24/intake24/commit/34ba419c524d95976bb29ae24ade4c45ab26f2bd))
- **feedback:** V4-554/V4-555 tweaks to tell me more card ([4bbe843](https://github.com/MRC-Epid-it24/intake24/commit/4bbe8432ce4a6bfb6bc85ce503ffdb899b1c7e6b))
- **food-list:** V4-595 correct input event payload shape ([a916322](https://github.com/MRC-Epid-it24/intake24/commit/a916322e489279631f616efdf0985a846a7b0e92))
- **global:** ignore generated files ([05daa8d](https://github.com/MRC-Epid-it24/intake24/commit/05daa8df876bef255d939a2d4aea8802ecf3329b))
- **global:** ignore generated files ([5f6853d](https://github.com/MRC-Epid-it24/intake24/commit/5f6853d305fa746afab3baed607b17b404698f42))
- **i18n:** include in feedback for re-use ([ef3821d](https://github.com/MRC-Epid-it24/intake24/commit/ef3821da767dd8f94c68cf15f59de6d79f4b4f71))
- **i18n:** missing traslation string ([765c3d4](https://github.com/MRC-Epid-it24/intake24/commit/765c3d4ac2dfa5cd957a5f397a111138db109ac4))
- **image-selector:** confirm on click on desktop ([4e5b208](https://github.com/MRC-Epid-it24/intake24/commit/4e5b208e081ae45625bd9674aeb709dcbabeed59))
- **index:** cleanup and close worker ([accdb4e](https://github.com/MRC-Epid-it24/intake24/commit/accdb4ecb719300c8848e231a8bd1476feb3ccda))
- **jobs:** allow to repeat the job ([f7a7a8c](https://github.com/MRC-Epid-it24/intake24/commit/f7a7a8cc2fd65fb66e641cc542e9997c9e4efd81))
- **jobs:** store job params/data in db ([90f695b](https://github.com/MRC-Epid-it24/intake24/commit/90f695b9b144492c76e13411f9fda19b94f21d72))
- **prompts:** i18n & structure sync ([3daf943](https://github.com/MRC-Epid-it24/intake24/commit/3daf9435054fbacc079aa5a805963d938f27fe71))
- **prompts:** pass meal/food vars to prompt layout texts ([3f063f3](https://github.com/MRC-Epid-it24/intake24/commit/3f063f3900bffbacadef6fc42fe8a428bf0c0cb8))
- **prompts:** remove not needed validation in milk-in-a-hot-drink ([997744a](https://github.com/MRC-Epid-it24/intake24/commit/997744aab8cc9320074f6352a00ac3055c795266))
- **psm:** allow to disable leftovers ([c204114](https://github.com/MRC-Epid-it24/intake24/commit/c20411422ccb95ec62b4a8c651ddbf410f6c99bc))
- **psm:** V4-476 select portion size on click & prompt cleanup ([e6de2a7](https://github.com/MRC-Epid-it24/intake24/commit/e6de2a797c522cb2d61a83e4d834d6c8ed08e189))
- **query:** do not include sort if not specified ([e8ad758](https://github.com/MRC-Epid-it24/intake24/commit/e8ad758c36b85e47d6e09e7c52a1d78a1033bb7f))
- **recall:** add missing guide/as-served image info ([df76941](https://github.com/MRC-Epid-it24/intake24/commit/df769419d876790a07e26bba456ef526646c9eaf))
- **schemes:** properly mark optional field for scheme creation ([95c3a0a](https://github.com/MRC-Epid-it24/intake24/commit/95c3a0a4d32ac66931652b72f5579d67d0224b7e))
- **schemes:** update question and type based on available prompts ([1423840](https://github.com/MRC-Epid-it24/intake24/commit/142384097dcfca2259beba6eaf5b0e97289772b9))
- **standard-unit:** include locale IDs & codes ([b2ff8d8](https://github.com/MRC-Epid-it24/intake24/commit/b2ff8d8fd8802dd5c75d770f7f1a8be581ae0001))
- **standard-unit:** logic typo ([ee5a67b](https://github.com/MRC-Epid-it24/intake24/commit/ee5a67b789679550ace4b50b2b96b8d253949282))
- **submission:** collect composition nutrients and fields ([045e0f0](https://github.com/MRC-Epid-it24/intake24/commit/045e0f0547866325ba670ef7acad20acd474c129))
- **submission:** collect popularity data from submission ([fb01c24](https://github.com/MRC-Epid-it24/intake24/commit/fb01c24dc7f42e98a1a8eab7818fa24759221681))
- **submission:** collect portion sizes (WIP) ([fa9997c](https://github.com/MRC-Epid-it24/intake24/commit/fa9997cf9bf7661345765f2678cae37e8881fd8f))
- **submission:** drinkscale psm mapping ([fe05c8e](https://github.com/MRC-Epid-it24/intake24/commit/fe05c8e9db653388131e4ec3761a5f64aeb031ca))
- **submission:** missing custom data in submission ([b875a5d](https://github.com/MRC-Epid-it24/intake24/commit/b875a5dcb2977a9cfb2c1d0cd222c72a025b08a0))
- **submission:** state handling & processing ([2cff106](https://github.com/MRC-Epid-it24/intake24/commit/2cff106b884308accf1a31cbe6c35cfd1cb172fe))
- **submission:** use correct hof ([9583a35](https://github.com/MRC-Epid-it24/intake24/commit/9583a352acfb2f5372e57e86c3e3e2743d3936c2))
- **submission:** use transaction ([0bbb4e9](https://github.com/MRC-Epid-it24/intake24/commit/0bbb4e91f5ddbb7be0bcce531db761585cdce542))
- **survey): V4-427 (bug: 477/508:** DrinkScale Overlay Image sliding ([5a3e8e8](https://github.com/MRC-Epid-it24/intake24/commit/5a3e8e89bc9f3d22ee43fb5eea29080fd4d684b3))
- **survey/admin:** No More Infromation prompt Foods and Meals implementation and cleaninig ([494225c](https://github.com/MRC-Epid-it24/intake24/commit/494225cfb035b28d1206bb4ab32d2018433435ba))
- **survey:** adapt StandardPortionPrompt to use new store system ([e983984](https://github.com/MRC-Epid-it24/intake24/commit/e9839847106018449845e44474cc35e552097977))
- **survey:** align drink scale state hadling with rest of psms ([131ec52](https://github.com/MRC-Epid-it24/intake24/commit/131ec52b41b13b0df62111bf026c06f4b2799b00))
- **survey:** allow to proceed with submission on mobile ([764318a](https://github.com/MRC-Epid-it24/intake24/commit/764318a48e8ffda026c5080d1033648efe8274e7))
- **survey:** app bar / profile actions UI ([5d09b01](https://github.com/MRC-Epid-it24/intake24/commit/5d09b015093e46fbd20ca7b0a0900534e0705696))
- **survey:** as-served initial selection ([41203b3](https://github.com/MRC-Epid-it24/intake24/commit/41203b320b62da35181b374ce6d9cd9de92016a0))
- **survey:** as-served weight factor improvements ([98f957e](https://github.com/MRC-Epid-it24/intake24/commit/98f957e2c9483e91cfcd969cbc3567aa03b4b180))
- **survey:** assign correct nextMealId during initialization step ([d44361e](https://github.com/MRC-Epid-it24/intake24/commit/d44361e99d7bef0913868fc8667fb4935ada1cfb))
- **survey:** clean up mobile bottom meal list ([de5963a](https://github.com/MRC-Epid-it24/intake24/commit/de5963a03e77810d8387020609cb3225911cde13))
- **survey:** clear prompt selection before restart ([f9f1aef](https://github.com/MRC-Epid-it24/intake24/commit/f9f1aef72e7cfa2011e0b7a7778f7884e25c7da3))
- **survey:** clear prompt stores ([285aad9](https://github.com/MRC-Epid-it24/intake24/commit/285aad9f1f9ba11f0942e64c50ee2bd64dbff50e))
- **survey:** clear store first before move on ([3b3ade5](https://github.com/MRC-Epid-it24/intake24/commit/3b3ade5dcce73ff64897aa47cbc3ccb7961ef130))
- **survey:** crashes in mobile layout ([3a472f9](https://github.com/MRC-Epid-it24/intake24/commit/3a472f9b10b89b463c5c0e0857f055a0fbad0665))
- **survey:** disable continue when object no selected ([2b8388d](https://github.com/MRC-Epid-it24/intake24/commit/2b8388d8cccb511da50cdd9c8850d44c7d3eec30))
- **survey:** disable controls when overlay active ([0341eb6](https://github.com/MRC-Epid-it24/intake24/commit/0341eb6d2744e7492363f246e606b82e058f1a37))
- **survey:** do not use confirm dialog for meal delete (V4-503) ([f4abe87](https://github.com/MRC-Epid-it24/intake24/commit/f4abe872a8461eee916e37cb1585e791fca00aef))
- **survey:** DrinkScale missing property error ([ff7706f](https://github.com/MRC-Epid-it24/intake24/commit/ff7706f0ef9a2975b4caf727302fb8e433a3f163))
- **survey:** drinkscale texts formatting ([4bc3469](https://github.com/MRC-Epid-it24/intake24/commit/4bc3469cd7816909e0d220e685f0e369933ecc7d))
- **survey:** emit valid state for portion handlers ([ae83037](https://github.com/MRC-Epid-it24/intake24/commit/ae83037d6b738bd1adb41a89b73d79e1976fb9bf))
- **survey:** emit valid status on load ([d2b3a75](https://github.com/MRC-Epid-it24/intake24/commit/d2b3a7593b0ae8c9a0f3a9b348bfe02c7c05460e))
- **survey:** emphasis variable ([7aeb31e](https://github.com/MRC-Epid-it24/intake24/commit/7aeb31eac626ecb388bf3fc7aa8338bc7291d81f))
- **survey:** general UI bits ([418a49a](https://github.com/MRC-Epid-it24/intake24/commit/418a49ab238c2c4e8bf8bb2de42c90357ed8f3ac))
- **survey:** guide image texts ([741afba](https://github.com/MRC-Epid-it24/intake24/commit/741afbaff680441b08ef15364cd73b3847aabfb3))
- **survey:** image-selector/drink-scale scaling ([ffc478a](https://github.com/MRC-Epid-it24/intake24/commit/ffc478a88485e9e7b3ac70c3986469d2692293ac))
- **survey:** layout cleanup ([fd9515e](https://github.com/MRC-Epid-it24/intake24/commit/fd9515e93d6858bf90dddfd72b6b460da6e8407c))
- **survey:** milk on cereal estimation method ([9a041b7](https://github.com/MRC-Epid-it24/intake24/commit/9a041b79ccd19d6006c8a7ecf38a42574aa888d2))
- **survey:** Missing portion sizes alert ([ba5f438](https://github.com/MRC-Epid-it24/intake24/commit/ba5f43895c305c8a052c115b8a1e23807a1bbab6))
- **survey:** missing prompt handler ref ([fa9fae3](https://github.com/MRC-Epid-it24/intake24/commit/fa9fae32d8ad1717c3802707a3ab9b96c4282772))
- **survey:** mobile bottom list selected item ([15607f4](https://github.com/MRC-Epid-it24/intake24/commit/15607f4f9a53e723608869a5e61466fee7e49168))
- **survey:** move isvalid to computed to keep reactive ([926ec1f](https://github.com/MRC-Epid-it24/intake24/commit/926ec1fa337325c4f4b7dc650aa9183ca71576ef))
- **survey:** move on to next panel when standard unit preselected ([6d0c9bc](https://github.com/MRC-Epid-it24/intake24/commit/6d0c9bc39c05653b279c1844740bb33dfd4ea189))
- **survey:** no gutter on portion layout ([e05c183](https://github.com/MRC-Epid-it24/intake24/commit/e05c1838afd9e2af818d8264f232656ec67d3b02))
- **survey:** no more info fallback i18n ([4645ba2](https://github.com/MRC-Epid-it24/intake24/commit/4645ba2c06f37de593ac6f8c0ee67d8549272b12))
- **survey:** no wrap for home lists ([fbd2f51](https://github.com/MRC-Epid-it24/intake24/commit/fbd2f51af3427d0bf2be230018739937b97d3e68))
- **survey:** partial revert 926ec1fa337325c4f4b7dc650aa9183ca71576ef ([fabeaf2](https://github.com/MRC-Epid-it24/intake24/commit/fabeaf2900c2821ca37c28f82ee5a9a91fe7bd3c))
- **survey:** prevent meal array modification ([5c81332](https://github.com/MRC-Epid-it24/intake24/commit/5c81332792e6836a10ecc7608951d93a4bc318ac))
- **survey:** psm milk-in-\*-bits ([5b91f11](https://github.com/MRC-Epid-it24/intake24/commit/5b91f11172a68bb69ba7629a8cbbac0dfe1ea49d))
- **survey:** reduce z-index to keep sidebar on top of the mobile nav ([ff428d0](https://github.com/MRC-Epid-it24/intake24/commit/ff428d037e61ed973653e9213dfea72171532bed))
- **survey:** remove radius for mobile UI ([627dc38](https://github.com/MRC-Epid-it24/intake24/commit/627dc38a8abbe47c16eeea3385432c342407f1de))
- **survey:** same logic for image map confirmation ([f72aae1](https://github.com/MRC-Epid-it24/intake24/commit/f72aae1cbcedbdc29d101052a89fc64934ffe6fd))
- **survey:** scale properly on mobile ([86290c7](https://github.com/MRC-Epid-it24/intake24/commit/86290c73942acca892ddf2bcfcb1df53a3231417))
- **surveys:** prevent setting PID fields during survey creation ([1c00af9](https://github.com/MRC-Epid-it24/intake24/commit/1c00af9082480295e6ef67b00beb69c7f06c3877))
- **survey:** standard method prompt & unit display ([b7d2cb6](https://github.com/MRC-Epid-it24/intake24/commit/b7d2cb610f9e11b41bb39c393f0855d5970849af))
- **survey:** sync state mgmt for custom questions ([0674946](https://github.com/MRC-Epid-it24/intake24/commit/06749460822f11b295623f284e7166d7e4668ce8))
- **survey:** temp reset state for debugging ([516f8bf](https://github.com/MRC-Epid-it24/intake24/commit/516f8bf2c82919b2a6289bca8f234e1133bdf709))
- **survey:** unify psm panel progress ([5245b0e](https://github.com/MRC-Epid-it24/intake24/commit/5245b0eb3d5bd6d4ed2087ccfedea4cb265ae18c))
- **survey:** use unique promptId as key ([0ba8c56](https://github.com/MRC-Epid-it24/intake24/commit/0ba8c56d5c88ba24613a26e76bbfb0333b6999f9))
- **survey:** V4-321: consistent selection area ([598d27d](https://github.com/MRC-Epid-it24/intake24/commit/598d27d1c50fc5dff308c6eb900dfe49ad5ce1e5))
- **survey:** V4-325: filter duplicate search results ([56092d4](https://github.com/MRC-Epid-it24/intake24/commit/56092d464c1877387467a910b1b6026323a7dc84))
- **survey:** V4-427 clean comments ([0721115](https://github.com/MRC-Epid-it24/intake24/commit/072111532e49b0944c1d82122c20af25973d424b))
- **survey:** V4-485 use leftover set for as-served prompt ([235bbe6](https://github.com/MRC-Epid-it24/intake24/commit/235bbe66741f0906c721a763b76700d97f808df9))
- **survey:** V4-488 (WIP) crash on delete meals ([0229038](https://github.com/MRC-Epid-it24/intake24/commit/02290381a375be0e4e8ed64ae1abeca26050edfe))
- **survey:** V4-488: clean up mobile context menu ([2eed789](https://github.com/MRC-Epid-it24/intake24/commit/2eed789d396dac8baf3bea8ca572ece9f91fd4ba))
- **survey:** V4-502 preselect standard unit if only one available ([750d7c2](https://github.com/MRC-Epid-it24/intake24/commit/750d7c2ba8c1db84dd95321f338c67a0f3eaee0a))
- **survey:** V4-537 drinkScale incorrect volume calculation ([c82bbb5](https://github.com/MRC-Epid-it24/intake24/commit/c82bbb5d86ace92e264495cefdc48f1d9ba16602))
- **survey:** V4-540 update quantity counter component ([b46a60d](https://github.com/MRC-Epid-it24/intake24/commit/b46a60d42925f4f5221c8140047eba7fd1d73f5a))
- **survey:** V4-543 continue if food has not leftovers specified ([0510bd4](https://github.com/MRC-Epid-it24/intake24/commit/0510bd456ac63813d31bed6d8e41134d30a846d1))
- **survey:** V4-546 leftover button texts ([7b6fd32](https://github.com/MRC-Epid-it24/intake24/commit/7b6fd328040c03e6fcb203322d49ba318ce4267f))
- **survey:** V4-547: Prevent errors if Prompt Name doesnt exist ([061aac0](https://github.com/MRC-Epid-it24/intake24/commit/061aac04aad0c5eaf9d7f4948138c3d875c7ec15))
- **survey:** V4-552 remove has from recall number ([5b9330a](https://github.com/MRC-Epid-it24/intake24/commit/5b9330a494ba10b5d247f3e6536e23be9c60e8bc))
- **survey:** V4-556 milk in hot drink calculations ([e3e7a4f](https://github.com/MRC-Epid-it24/intake24/commit/e3e7a4fbee6e813212dc6ffa049b55cdbeb38c5f))
- **survey:** V4-568 - DrinkScale Prompt bugs ([09dcdc7](https://github.com/MRC-Epid-it24/intake24/commit/09dcdc74594a26900922dddff0b73a0559356db1))
- **survey:** V4-570 Add leftovers question - correct serving and leftovers weights ([aee4005](https://github.com/MRC-Epid-it24/intake24/commit/aee4005fb11fab44ed33ec931a6ecebe99d525f5))
- **survey:** V4-578/V4-591 drink-scale bits ([0fe5d66](https://github.com/MRC-Epid-it24/intake24/commit/0fe5d66845e3493f6c10262438b8be8a8fa3cd53))
- **survey:** V4-581: don't trigger assoc foods prompt for linked foods ([8788b06](https://github.com/MRC-Epid-it24/intake24/commit/8788b0608c546b8ee400fdd543918a23dab272e4))
- **survey:** V4-582: handle some assoc foods corner cases ([74d9453](https://github.com/MRC-Epid-it24/intake24/commit/74d94538f8de6cfdd86e9954da19cf79ec252cb1))
- **survey:** V4-584: replace ignored special chars with spaces ([6457171](https://github.com/MRC-Epid-it24/intake24/commit/6457171e47af0b824d680a8c0a80c385f79ba61a))
- **survey:** V4-590 drink scale skip initial fill ([9f56942](https://github.com/MRC-Epid-it24/intake24/commit/9f56942e837e0ab2947ac45e7c442b53ab711248))
- **survey:** workaround for undefined vars in store re-=hydration ([672663a](https://github.com/MRC-Epid-it24/intake24/commit/672663ad64b33795c6646d087570cc08e0a5b172))
- **test:** catch-all moduleNameMapper entry ([9f84995](https://github.com/MRC-Epid-it24/intake24/commit/9f849953d9ab6eecf4a24d0d2d21fa48a740eaa4))
- **test:** moduleNameMapper entries (another attempt) ([1781655](https://github.com/MRC-Epid-it24/intake24/commit/17816550f1e276c16a16c5d70603d721b6cbddae))
- **test:** moduleNameMapper entries (yet another attempt) ([7e7860b](https://github.com/MRC-Epid-it24/intake24/commit/7e7860b99495701bd40eeba6fd090b1b6a717e9a))
- **test:** survey parameters: new fields ([1298f69](https://github.com/MRC-Epid-it24/intake24/commit/1298f69fe88271bada83a5d6c21ed648cc18f732))
- **types:** remove dup type entry ([65451cf](https://github.com/MRC-Epid-it24/intake24/commit/65451cf57642fea6275865ff951d1962f44857f3))
- various i18n and type fixes ([e84148f](https://github.com/MRC-Epid-it24/intake24/commit/e84148f0ed5c8effe9b482b1f5d3e73337a6dabe))

### Features

- admin psm mgmt and psm/assoc prompts ordering (WIP) ([73214ef](https://github.com/MRC-Epid-it24/intake24/commit/73214ef89974030084331fa33ce5ff7e8e51cca3))
- admin signup & front login pages ([603db76](https://github.com/MRC-Epid-it24/intake24/commit/603db76fe0d905bc6e1b78848088be5945642a51))
- **admin:** configurable language tools backend ([ea268b4](https://github.com/MRC-Epid-it24/intake24/commit/ea268b4d0d71dec51335db74478a5559d9569623))
- **admin:** filterable data export section fields ([932d743](https://github.com/MRC-Epid-it24/intake24/commit/932d7432dcc3c4abaf8c0ab8f95122a0db1859e0))
- **admin:** json viewer/editor for schemes etc ([d3cb03f](https://github.com/MRC-Epid-it24/intake24/commit/d3cb03fc413af205cb6fd2a0e431f596668dd4d6))
- **admin:** upload predetermined food sorting data ([5b97444](https://github.com/MRC-Epid-it24/intake24/commit/5b97444393ab27f297a93efbcc46c79348ef49b9))
- **api:** add English stemmer implementation ([c3cf70a](https://github.com/MRC-Epid-it24/intake24/commit/c3cf70ab0231961a13b1bce5867c173fd6716cfb))
- **api:** better concurrency handling ([c62478c](https://github.com/MRC-Epid-it24/intake24/commit/c62478cb524122cea604cab3cc39b04a678cbcf7))
- **api:** bulk update popularity counters ([a9fd4fa](https://github.com/MRC-Epid-it24/intake24/commit/a9fd4fadb236371ea904824aba22a2560b28ce63))
- **api:** cache bulk operations ([df20eed](https://github.com/MRC-Epid-it24/intake24/commit/df20eed8fd14f3dc142ffbe8f8f67f8ae7bbbaa1))
- **api:** food search match cost functions ([d462e32](https://github.com/MRC-Epid-it24/intake24/commit/d462e32d7d910710a712d16dc34438169950deb1))
- **api:** per-locale food index ([72d1821](https://github.com/MRC-Epid-it24/intake24/commit/72d1821fbf41f6a65651173e687d6fdad016a75f))
- **api:** popularity and globalPop search ranking ([a030af9](https://github.com/MRC-Epid-it24/intake24/commit/a030af94e2c119ec2160b73eb88e582617a46b36))
- **api:** use language backend from locale config ([3caa2f4](https://github.com/MRC-Epid-it24/intake24/commit/3caa2f418e01eb67785c7924abbe0dcf0cdcf944))
- **api:** V4-564: use recipe ingredient attribute ([c1ba502](https://github.com/MRC-Epid-it24/intake24/commit/c1ba5025420df0e267182bd866060c245c98f9de))
- **api:** V4-565: 'already entered' assoc foods option ([ff6f071](https://github.com/MRC-Epid-it24/intake24/commit/ff6f0710ace77b36a9c7f5c287d89cfa27aaf2fe))
- **api:** V4-565: add parent categories to user food data ([0b42a5c](https://github.com/MRC-Epid-it24/intake24/commit/0b42a5cd38117de5a09229043524dd3b49fe774e))
- capture UA info and offer parsed export options ([b318b2f](https://github.com/MRC-Epid-it24/intake24/commit/b318b2fce2653025f555da6ef8ff5178faba38e0))
- config option to limit debug SQL length ([a8c85f3](https://github.com/MRC-Epid-it24/intake24/commit/a8c85f335a2fe28c9246f0b240788403ebc501a6))
- copy to clipboard app info ([fe7803e](https://github.com/MRC-Epid-it24/intake24/commit/fe7803e21088b1bd1ce4979e0e4e902adf02d08a))
- locale food nutrient mapping export ([eb771de](https://github.com/MRC-Epid-it24/intake24/commit/eb771de11888c086db173ad9e1dcdd2863c89bc2))
- localized portion size texts with scheme ([36a08d6](https://github.com/MRC-Epid-it24/intake24/commit/36a08d690d277132c0b11a6cca8dd32fb20b4efa))
- mapKeys utility function ([18ef672](https://github.com/MRC-Epid-it24/intake24/commit/18ef67255e31045aa085b17dd2058151c263741c))
- milk in a hot drink portion method ([c9203a2](https://github.com/MRC-Epid-it24/intake24/commit/c9203a292b333aacd044181d8ae72c6d9c162b80))
- nutrient types/units mgmt ([47a9116](https://github.com/MRC-Epid-it24/intake24/commit/47a91168ab1b1f5de2ea7dcb3a5e8448892bfc86))
- **schemes:** total energy condition ([4427bee](https://github.com/MRC-Epid-it24/intake24/commit/4427bee1051c65750c769999e39606cdd00fc5d5))
- securable locales & languages ([c4e27a6](https://github.com/MRC-Epid-it24/intake24/commit/c4e27a6eccfe562e084c334bba8a40505354db59))
- sign-ups and account verifications ([9672468](https://github.com/MRC-Epid-it24/intake24/commit/9672468ae9908a52f917a8e98d2d67d058c69e59))
- standard units mgmt ([0f0ea48](https://github.com/MRC-Epid-it24/intake24/commit/0f0ea48794621205c3d8159be1a8e51e64a96521))
- **submission:** capture search term ([95ca577](https://github.com/MRC-Epid-it24/intake24/commit/95ca57779da835c0ddcfee48ab4afa38e50fa0c0))
- **survey/admin:** V4-489: Added No Information needed prompt when Meal is manualy selected(Desktop) ([5569efe](https://github.com/MRC-Epid-it24/intake24/commit/5569efe5e4b62ebb5c5d9ad2a8a5e86a0bfdeda2))
- **survey:** app navigation ([bc4c563](https://github.com/MRC-Epid-it24/intake24/commit/bc4c56394a41efb9e8a4d7212e4558b05b19268e))
- **survey:** as-served weight factor ([e25f6d5](https://github.com/MRC-Epid-it24/intake24/commit/e25f6d553859fc0d7e46138f8bdc9c509ca779b3))
- **survey:** cereal psm and unify some psm parts ([39a0db6](https://github.com/MRC-Epid-it24/intake24/commit/39a0db6f2aa3481fa2496eb22c3b25e26382efb1))
- **survey:** pizza portion size estimation ([745f73d](https://github.com/MRC-Epid-it24/intake24/commit/745f73d6ba62a5b5566df406b865afea4e493a62))
- **survey:** V4-428 - Guide Image Zoom feature implemented ([19ddbe9](https://github.com/MRC-Epid-it24/intake24/commit/19ddbe9f07b336f08bc22aecd4c3907d2077c380))
- **survey:** V4-544 - Display the amount of added Milk in the MilkInAHotDrinkPrompt ([d3d47a6](https://github.com/MRC-Epid-it24/intake24/commit/d3d47a6f54b8d3eb4142312e5293f30e7f2398ba))
- **survey:** V4-570 Add question about leftovers to DrinkScale Prompt ([64af2cd](https://github.com/MRC-Epid-it24/intake24/commit/64af2cd2c152cd48e001faa73a21f2a835ee8841))
- **test:** workaround for issues with IPv6/IPv4 dual-stacking ([f23f8a1](https://github.com/MRC-Epid-it24/intake24/commit/f23f8a15148e11a9955e166d621ff7a6ef6aff0a))

# [2022.0.0-beta.1](https://github.com/MRC-Epid-it24/intake24/compare/v2022.0.0-beta.0...v2022.0.0-beta.1) (2022-09-05)

### Bug Fixes

- **admin:** missing awaits ([5cca8fb](https://github.com/MRC-Epid-it24/intake24/commit/5cca8fbc44c4b64501abcfff60e4eba3c83d2203))
- **admin:** resource list icons & names ([67a3ae6](https://github.com/MRC-Epid-it24/intake24/commit/67a3ae6d3bf326c6110144a4357cb37854778f82))
- **api:** nested psm images ordering (V4-484) ([57009c7](https://github.com/MRC-Epid-it24/intake24/commit/57009c7e9a6239c8f12bfaa2737391f76470b9e4))
- **api:** remove depr code ([081d5bf](https://github.com/MRC-Epid-it24/intake24/commit/081d5bf8474db2312091117a327fa041174ee4d1))
- **api:** type-based rate-limiter key ([7e25d5a](https://github.com/MRC-Epid-it24/intake24/commit/7e25d5a30c825651324579f6db54270d29792cb0))
- clear couple of more type issues ([bddd49c](https://github.com/MRC-Epid-it24/intake24/commit/bddd49c2351d73e522fe2dfb727ae5ec40c06222))
- **deps:** update dependency dotenv-expand to v9 ([d8a7855](https://github.com/MRC-Epid-it24/intake24/commit/d8a7855aecec141987d5f492371ab0b45dd61fd8))
- **deps:** update dependency mssql to v9 ([4d038d7](https://github.com/MRC-Epid-it24/intake24/commit/4d038d7e84ab732130d5fe96f694974bee1b4fcc))
- **deps:** update dependency puppeteer to v17 ([6031fc9](https://github.com/MRC-Epid-it24/intake24/commit/6031fc984f733e006690c366eb1117149604f976))
- expose RateLimit-\* headers for UI ([ee3de2c](https://github.com/MRC-Epid-it24/intake24/commit/ee3de2cf50a1a1f329d92d4e636cf4af7cd5da01))
- **feedback:** default null for thresholds ([0b2916f](https://github.com/MRC-Epid-it24/intake24/commit/0b2916f3857540fad878bcf70e377b8958955696))
- **http:** always resolve http promises and catch in error handler ([459deb8](https://github.com/MRC-Epid-it24/intake24/commit/459deb8c2b7ff04fb20ebf96c95ec78983a2a0cf))
- **i18n:** use same source of default i18n message ([06165db](https://github.com/MRC-Epid-it24/intake24/commit/06165dbef5dc8d64a612bdcaa68c31a64fd0e870))
- localized texts handling improvements ([4a3ea8e](https://github.com/MRC-Epid-it24/intake24/commit/4a3ea8eb3c16ebafb942983d39bf0685ecd3aa4c))
- missing directives ([6caf1d6](https://github.com/MRC-Epid-it24/intake24/commit/6caf1d6a1f4a1668ff1940ebd6b813305d2db569))
- **survey:** allow to restart recall ([33c55fb](https://github.com/MRC-Epid-it24/intake24/commit/33c55fb4d8d0cc336dec1e0a76990cdfcd833b1d))
- **survey:** apply css flex for DrinkScale slider ([52820c6](https://github.com/MRC-Epid-it24/intake24/commit/52820c67d0764279225f166eebdaa052a27b704e))
- **survey:** desktop breadcrumbs ([50f9bba](https://github.com/MRC-Epid-it24/intake24/commit/50f9bbabd3e0e673995693be443bd72fe19671f5))
- **survey:** display feedback logic ([27eed4b](https://github.com/MRC-Epid-it24/intake24/commit/27eed4b5d1934465a18dec997a9522b125f39242))
- **survey:** expand meal containing selected food ([9534937](https://github.com/MRC-Epid-it24/intake24/commit/95349378197c9586b3e18786c27c46c7c251dca3))
- **survey:** field name does not match API ([fb4c2de](https://github.com/MRC-Epid-it24/intake24/commit/fb4c2de82fd500bebe26d45bdd7f69cf6a6d1492))
- **survey:** localized meal now for mobile list ([34aeebe](https://github.com/MRC-Epid-it24/intake24/commit/34aeebe1dc084b5deba00d142baff9b3df4457ee))
- **survey:** missing function call ([aafe2d6](https://github.com/MRC-Epid-it24/intake24/commit/aafe2d640638fb2b6cdb3fadfd7f5dc07d17d22d))
- **survey:** mobile meal list render crash ([f3e6d6d](https://github.com/MRC-Epid-it24/intake24/commit/f3e6d6d21d01a7a108232982b364040151ef4cff))
- **survey:** pass prompt component props ([da514bc](https://github.com/MRC-Epid-it24/intake24/commit/da514bc0779d79a0c79a34b8a86759c3840becf4))
- **survey:** prompt name field ([a4007fc](https://github.com/MRC-Epid-it24/intake24/commit/a4007fc6bc084261d407339ec964af16663593ca))
- **survey:** return empty selection instead of undefined ([106b633](https://github.com/MRC-Epid-it24/intake24/commit/106b633b76e5874698920798a6bdaa893d19c27e))
- **survey:** revert fb4c2de8, actually caused by old data ([cb8e050](https://github.com/MRC-Epid-it24/intake24/commit/cb8e0503bb5f4b3feb108de8aaf1f7fa7a35fc8b))
- **survey:** show post-foods/post-meals prompts ([a22e3a1](https://github.com/MRC-Epid-it24/intake24/commit/a22e3a12ad0eabe763948f5524196494d8c9ca24))
- **survey:** switch prompt after meal deletion ([4f56c17](https://github.com/MRC-Epid-it24/intake24/commit/4f56c1799cb42c2ff96cefe170bfabbc4104eafd))
- **survey:** trigger postMeals section ([e7090ef](https://github.com/MRC-Epid-it24/intake24/commit/e7090eff54ee2aae1076e9dac9183fdb448b8d38))
- **survey:** update DrinkScaleComplete check ([1e9b8fa](https://github.com/MRC-Epid-it24/intake24/commit/1e9b8fa11912d24c266be4907cdd2ec3ad290db7))
- **survey:** use localized meal name ([69b10f2](https://github.com/MRC-Epid-it24/intake24/commit/69b10f2e2c9052f31341bf834f77f9d61db95c6b))
- **survey:** use survey locale for search ([f396975](https://github.com/MRC-Epid-it24/intake24/commit/f396975b4bce85815ae940c2d6330904f9eddfe6))
- **survey:** V4-479: fix premature postFoods prompts ([9d57802](https://github.com/MRC-Epid-it24/intake24/commit/9d5780290568e4f2aff05ef2fdd27a4f5a5760c2))
- type errors ([53a3589](https://github.com/MRC-Epid-it24/intake24/commit/53a3589bc0f9d3757501e4365e67188c7c6baafa))
- **validations:** bail soon to avoid unnecessary database hit ([9eec225](https://github.com/MRC-Epid-it24/intake24/commit/9eec22584e5ede20b91997652655d50fa7616759))

### Features

- **admin:** drinkware-set resource and psm ([2e69ce3](https://github.com/MRC-Epid-it24/intake24/commit/2e69ce3165d5530280dac82edaa776aae8517c6b))
- **api:** submission foods & food custom ([a54a9cf](https://github.com/MRC-Epid-it24/intake24/commit/a54a9cf2523dd40948b088ef3bbc3b35d457c62e))
- **feedback:** searchable nutrient types ([d8a8c2b](https://github.com/MRC-Epid-it24/intake24/commit/d8a8c2b6a95f14a156a080ee3c2fd386ea033423))
- **i18n:** api server translations ([0cb1e84](https://github.com/MRC-Epid-it24/intake24/commit/0cb1e8405af0fc9cb45f78d6b8fad24ff5b100b6))
- **i18n:** api server validations ([af82ae9](https://github.com/MRC-Epid-it24/intake24/commit/af82ae91ccba061f102f4cc2dd17b087c980136a))
- **survey:** final terminal prompt ([9ccc4e2](https://github.com/MRC-Epid-it24/intake24/commit/9ccc4e2c18dae581927c0bfaf5a759b99dcb1d0b))
- **survey:** respondent request help ([0bdb0d8](https://github.com/MRC-Epid-it24/intake24/commit/0bdb0d861aea19637c4af5b8f51ffeabde3679c6))
- **survey:** store user session ([19fd86a](https://github.com/MRC-Epid-it24/intake24/commit/19fd86a07d6cafd63e624f556267cb539babde7f))
- **survey:** V-474, V4-480: database search/portion size icons ([9563e2a](https://github.com/MRC-Epid-it24/intake24/commit/9563e2a34525c1fd084464fb36dcba5597e986d0))
- **survey:** V-474, V4-480: indicate selected element ([374be57](https://github.com/MRC-Epid-it24/intake24/commit/374be57e1e1c545b6dd5182a88075eb8b5033d51))
- **survey:** V4-479: add free entry complete flag and checks ([aab471d](https://github.com/MRC-Epid-it24/intake24/commit/aab471d1f57ec3ae89f3d79906c00977e287dffa))
- **survey:** V4-479: implement selection logic ([4e9e264](https://github.com/MRC-Epid-it24/intake24/commit/4e9e264b6a291b8270c4249ded11bb008781c158))
- **survey:** V4-487, V4-481: reset selection ([b8121a9](https://github.com/MRC-Epid-it24/intake24/commit/b8121a93f0eadac4789deafe313c8464094bd33c))
- **ui:** draggable handles ([34eaa1f](https://github.com/MRC-Epid-it24/intake24/commit/34eaa1f9845b12eea9a223729569a2e132485a4d))

# [2022.0.0-beta.0] (2022-08-08)

Initial pre-release
