# Application

Path: `apps/api/src/config/app.ts`

## Node environment

Node environment to start the application in.

- object-path: `env`
- dotenv var: `NODE_ENV`
- type: `'development' | 'test' | 'production'`
- default: `'development'`

## Name

Application name.

- object-path: `env`
- dotenv var: `APP_NAME`
- type: `string`
- default: `'Intake24'`

## Host

Internal hostname application listens on.

- object-path: `host`
- dotenv var: `APP_HOST`
- type: `string`
- default: `'localhost'`

## Port

Internal port application listens on.

- object-path: `port`
- dotenv var: `APP_PORT`
- type: `number`
- default: `3100`

## Secret

Secret key to use for in-app signing/encryption (cookie/session)

- object-path: `secret`
- dotenv var: `APP_SECRET`
- type: `string`
- default: `''`

## HTTPS

Flag whether to use HTTPS protocol, for development purposes. Defaults to `false`.

Certificates are generated by [`mkcert`](https://github.com/FiloSottile/mkcert) & [`vite-plugin-mkcert`](https://github.com/liuweiGL/vite-plugin-mkcert).

- firstly boot up any frontend application in dev mode, which will generate certificates on first run
- then boot up `API server` in dev mode
- certificates are stored in user home directory by default, i.e. `~/vite-plugin-mkcert`

For production, it is recommended to use `http` protocol and reverse proxy (e.g. `nginx`) to handle HTTPS.

- object-path: `https`
- dotenv var: `APP_HTTPS`
- type: `boolean`
- default: `false`

## Sites URLs

List of sites URLs. These can either be relative or absolute URLs.

- absolute URL -> site is hosted on different domain
- relative URL -> site is hosted on same domain. URL gets registered as route.

### Base URL / Domain

Domain / base url to resolve fully qualified sites URLs (if relative)

- object-path: `urls.base`
- dotenv var: `APP_URL_BASE`
- type: `string`
- default: `'localhost:3100'`

### Admin URL

URL of admin site.

- object-path: `urls.admin`
- dotenv var: `APP_URL_ADMIN`
- type: `string`
- default: `'/admin'`

### Documentation URL

URL of documentation site.

- object-path: `urls.docs`
- dotenv var: `APP_URL_DOCS`
- type: `string`
- default: `'/docs'`

### Survey URL

URL of survey site.

- object-path: `urls.survey`
- dotenv var: `APP_URL_SURVEY`
- type: `string`
- default: `'/survey'`

### Images URL

URL of images.

- object-path: `urls.images`
- dotenv var: `APP_URL_IMAGES`
- type: `string`
- default: `'localhost:3100/images'`

::: tip
Default setup allows local images serving - ideal for development purposes. For production, use reverse proxy, CDN etc.
:::

## Enabled locales

Enabled locales for food indexing.

- object-path: `enabledLocales`
- dotenv var: `APP_ENABLED_LOCALES`
- type: `string[] | null`
- default: `null`

::: tip

When setting `APP_ENABLED_LOCALES` env value:

- for all locales use `*`, translates to `null`
- for selected locales use JSON string array `["en", "fr"]`

:::
